import{a as l,b as i,c as a}from"./chunk-LEYJQD6P.mjs";import p from"fs";import u from"path";import d from"inquirer";var c=(e,t)=>{let[o,n]=e.split("=");return t===a[0]?`${o}="YOUR_${o.toUpperCase()}_VALUE"`:""},y=(e,t)=>{var o=[""];return e.includes(`${l}${i}`)?o=e.split(`${l}${i}`):o=e.split(`${i}`),o.map(n=>{if(n.trim()===""||n.startsWith("#"))return n;if(n.includes("#")){let[s,r]=n.split(/#+/);return`${c(s,t)}   #${r}`}return`${c(n,t)}`}).join(`${l}${i}`)},h=(e,t,o)=>{try{let n=u.join(process.cwd(),e!=null?e:".env");console.log(`reading sample env(${e})`);let s=p.readFileSync(n,{encoding:"utf8",flag:"r"});return y(s,o)}catch(n){return console.log("No .env file Found!"),!1}},E=(e,t)=>{let o=u.join(process.cwd(),t!=null?t:".env");try{p.writeFileSync(o,e,{encoding:"utf8",flag:"w"})}catch(n){console.log(`Couldnot write ${t} file.`)}},g=({name:e,sample:t,values:o,dryRun:n})=>{let s=h(e,t,o);s&&(n?console.log(s):E(s,t),!n&&console.log("Sample ENV file written successfully!"))},R=({name:e,sample:t,values:o,silent:n,dryRun:s})=>{n?g({name:e,sample:t,values:o,dryRun:s}):d.prompt([{type:"input",name:"name",message:"What is the name of your env file?",default:".env"},{type:"input",name:"sample",message:"What do you want your sample env file name to be?",default:".sample.env"},{type:"list",name:"values",message:"Placeholder format for your values?",choices:a},{type:"confirm",name:"dryRun",message:"Want the output in the console instead of generating a file?",default:!1}]).then(({name:r,sample:f,values:m,dryRun:v})=>{g({name:r,sample:f,values:m,dryRun:v})}).catch(r=>{r.isTtyError?(console.log("Couldnot render prompt under this environment!"),console.log(r)):console.log(`Something went Wrong: ${r}`)})};export{R as a};
